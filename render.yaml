services:
  # A Web Service for your Flask application
  - type: web
    name: fweb
    env: python
    repo: https://github.com/ThorBuzz/FWeb
    branch: main # Or master, whichever is your primary branch
    pythonVersion: "3.11"
    
    # --- Build Configuration ---
    # The command to install all your dependencies
    buildCommand: "pip install -r requirements.txt"
    
    # --- Start Configuration ---
    # The command to run your app in production using Gunicorn
    startCommand: "gunicorn app:app"
    
    # --- Persistent Disk for SQLite Database ---
    # The disk is defined *inside* the web service
    disks:
      - name: fecesa-db-disk
        mountPath: /var/data
        sizeGB: 1
        
    # --- Environment Variables ---
    # This section is now placed after the disks for better readability
    envVars:
      - key: SECRET_KEY
        generateValue: true # Render will create a secure, random value
      - key: DATABASE_URL
        # This tells SQLAlchemy where to find the database on the persistent disk
        value: "sqlite:////var/data/fecesa_admin.db"